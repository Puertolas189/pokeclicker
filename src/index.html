<!DOCTYPE html>
<html>
<head>
    <title>Pokeclicker</title>
    <link href="/assets/images/favicon.ico" rel="icon" type="image/x-icon"/>
    <script type="text/html" id="pokemonListTemplate">
        <tr data-bind='ifnot: $data.breeding()'>
            <td>
                <img class="smallImage"
                     data-bind="attr:{ src: PokemonHelper.getImage($data, player.alreadyCaughtPokemonShiny($data.name)) }"
                     src=""/>
                <span data-bind="text: name">Name</span>
            </td>
            <td data-bind="text: attack">fdsf</td>
            <td data-bind="text: levelObservable">fdsfs</td>
        </tr>
    </script>

    <script type="text/html" id="achievementListTemplate">
        <tr data-bind="css: { 'table-success': isCompleted() , 'table-danger': !isCompleted() }">
            <td><span data-bind="text: name">Name</span></td>
            <td data-bind="text: description">Description</td>
            <td><span data-bind="text: getProgress()">1</span>/<span data-bind="text: property.requiredValue">2</span>
            </td>
            <td><span data-bind="text: getProgressPercentage()"></span>%</td>

            <td>+<span data-bind="text: bonus"><Bonus></Bonus></span>%</td>
        </tr>
    </script>

    <script type="text/html" id="treasureListTemplate">
        <tr data-bind='if: amount() > 0'>
            <td class='vertical-middle'>
                <img class='mineInventoryItem' data-bind='attr:{ src: "assets/images/underground/"+id+".png" }'>
                <span data-bind='text: "("+$data.amount()+")"'></span>
            </td>
            <td class='vertical-middle' data-bind='text: name'></td>
            <!-- ko if: valueType == "Mine Egg" -->
            <td></td>
            <!-- /ko -->
            <!-- ko ifnot: valueType == "Mine Egg" -->
            <td class='vertical-middle'
                data-bind='text: value + " " + UndergroundItem.getFullResourceName(valueType, value)'></td>
            <!-- /ko -->
            <td class='vertical-middle'>
                <button class='btn btn-success tooltipRightMine'
                        data-bind='click: function(){ Underground.sellMineItem(id) },
                                   css: { disabled: amount() <= 0 || (valueType == "Mine Egg" && !player.hasFreeEggSlot()) },
                                   text: valueType == "Mine Egg" ? "Breed" : "Sell"'>
                </button>
            </td>
        </tr>
    </script>

    <script>
        function handleLoad(e) {
            console.log('Loaded import: ' + e.target.href);
        }

        function handleError(e) {
            console.log('Error loading import: ' + e.target.href);
        }
    </script>

    <link rel="import" href="html/startSequence/StartSequence.html" id="startSequenceDoc"
          onload="handleLoad(event)" onerror="handleError(event)">

    <!--jQuery-->
    <script src="libs/jquery.min.js"></script>

    <!--Knockout-->
    <script src="libs/knockout-latest.js"></script>

    <!--Minified scripts-->
    <script src="scripts/script.min.js"></script>

    <!--Tether-->
    <script src="libs/tether.min.js"></script>

    <!--Bootstrap-->
    <link href="libs/bootstrap.min.css" rel="stylesheet">
    <script src="libs/bootstrap.min.js"></script>

    <!--Notify-->
    <script src="libs/bootstrap-notify.min.js"></script>

    <!--Minified styles-->
    <link href="styles/styles.min.css" rel="stylesheet">

</head>
<body class="no-select">

<div class="dropdown clearfix" style="position:absolute; right:0; top:0">
    <button class="btn btn-secondary dropdown-toggle float-right" type="button" data-toggle="dropdown">Start
        Menu
        <span class="caret"></span>
    </button>
    <ul class="dropdown-menu dropdown-menu-right">
        <li>
            <button class="dropdown-item" href="#">Pokedex</button>
        </li>
        <li>
            <button class="dropdown-item" href="#">Stats</button>
        </li>
        <li>
            <button class="dropdown-item" href="#">Subreddit</button>
        </li>
        <li>
            <button class="dropdown-item" href="#">Save</button>
        </li>
        <li>
            <button onClick="$('#achievementsModal').modal('show')" class="dropdown-item" href="#">Achievements</button>
        </li>
        <li>
            <button class="dropdown-item" href="#">Changelog</button>
        </li>
        <li>
            <button onClick="$('#shardModal').modal('show')" class="dropdown-item" href="#">Shards</button>
        </li>
        <li>
            <button onClick="$('#showKeyitemsModal').modal('toggle');" class="dropdown-item">Key Items</button>
        </li>
        <li>
            <button onClick="$('#donateModal').modal('toggle');" class="dropdown-item" href="#">Donate</button>
        </li>

    </ul>
</div>

<div id="donateModal" class="modal fade" role="dialog">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header justify-content-sm-center">
                <h4 class="modal-title">Donate!</h4>
            </div>
            <div class="modal-body">
                <span>As game developers who do not charge any money for their game, and are very much opposed to
                    advertisements, it is difficult to make money.
                    We devote our time to creating games that can stay free of ads, forever.
                    With the buttons below, you can show your support and make sure we keep developing awesome games for
                    you!
                </span>
                <br><br>
                <span>Please leave a message after donating, so we can contact and thank you!</span>
                <br><br>

                <div class="row justify-content-sm-center" style="text-align: center">

                    <form target="_blank" action="https://www.paypal.com/cgi-bin/webscr" method="post">
                        <button class="btn btn-success donate-button clickable">€1<br><img
                                src="assets/images/pokemon/1.png">
                        </button>
                        <input type="hidden" name="cmd" value="_s-xclick">
                        <input type="hidden" name="hosted_button_id" value="YP9SQ748NN5EW">
                        <input type="hidden" name="submit" alt="PayPal – The safer, easier way to pay online!">
                        <img alt="" border="0" src="" width="1"
                             height="1">
                    </form>

                    <form target="_blank" action="https://www.paypal.com/cgi-bin/webscr" method="post">
                        <button class="btn btn-danger donate-button clickable">€3<br><img
                                src="assets/images/pokemon/4.png">
                        </button>
                        <input type="hidden" name="cmd" value="_s-xclick">
                        <input type="hidden" name="hosted_button_id" value="MR8497BXE7P3A">
                        <input type="hidden" name="submit" alt="PayPal – The safer, easier way to pay online!">
                        <img alt="" border="0" src="" width="1"
                             height="1">
                    </form>

                    <form target="_blank" action="https://www.paypal.com/cgi-bin/webscr" method="post">
                        <button data-html="true"
                                title="Don't let the PokéDex order fool you, Charmander is and will always be the best starter. -Isha"
                                class="btn btn-primary donate-button clickable">€5<br><img
                                src="assets/images/pokemon/7.png">

                        </button>
                        <input type="hidden" name="cmd" value="_s-xclick">
                        <input type="hidden" name="hosted_button_id" value="VHFSUMCRY8PJU">
                        <input type="hidden" name="submit" alt="PayPal – The safer, easier way to pay online!">
                        <img alt="" border="0" src="" width="1"
                             height="1">
                    </form>
                </div>

                <div class="row justify-content-sm-center" style="text-align: center">
                    <form target="_blank" action="https://www.paypal.com/cgi-bin/webscr" method="post">
                        <button class="btn btn-warning donate-button clickable">€10<br><img
                                src="assets/images/pokemon/25.png">
                        </button>
                        <input type="hidden" name="cmd" value="_s-xclick">
                        <input type="hidden" name="hosted_button_id" value="N7NMLXFQDPPC6">
                        <input type="hidden" name="submit" alt="PayPal – The safer, easier way to pay online!">
                        <img alt="" border="0" src="" width="1"
                             height="1">
                    </form>

                    <form target="_blank" action="https://www.paypal.com/cgi-bin/webscr" method="post">
                        <button class="btn donate-button-mew donate-button clickable">€20<br><img
                                src="assets/images/pokemon/151.png"></button>
                        <input type="hidden" name="cmd" value="_s-xclick">
                        <input type="hidden" name="hosted_button_id" value="HJHXNGD3H5BH6">
                        <input type="hidden" name="submit" alt="PayPal – The safer, easier way to pay online!">
                        <img alt="" border="0" src="" width="1"
                             height="1">
                    </form>

                    <form target="_blank" action="https://www.paypal.com/cgi-bin/webscr" method="post">
                        <button class="btn btn-default donate-button-unown donate-button clickable">Custom<br><img
                                src="assets/images/pokemon/unown.png"></button>
                        <input type="hidden" name="cmd" value="_s-xclick">
                        <input type="hidden" name="hosted_button_id" value="XKQMADJLWZZC8">
                        <input type="hidden" name="submit" alt="PayPal – The safer, easier way to pay online!">
                        <img alt="" border="0" src="" width="1"
                             height="1">
                    </form>

                </div>

                <div class="row justify-content-sm-center" style="text-align: center">
                    <p class="text-muted" style="font-size:8px">*note you don't actually get the Pokémon</p>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default clickable" data-dismiss="modal">Close</button>
            </div>

        </div>

    </div>
</div>

<!-- Get Keyitem modal-->
<div class="modal" id="keyItemModal" tabindex="-1" role="dialog"
     aria-labelledby="keyItemModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content" style="text-align: center">
            <div class="modal-header">
                <div style="width: 100%;">
                    <img src="assets/images/oak.png">
                    <h5 class="modal-title" id="keyItemModalLabel">New key item!</h5>
                </div>
            </div>
            <div class="modal-body">
                <h5><b>Congratulations!</b></h5>
                <span>You have gained a</span><br>
                <img
                        class="key-item"
                        data-bind="attr:{ title: KeyItemHandler.getKeyItemByName(player.recentKeyItem()).name(),  src: 'assets/images/keyitems/' + KeyItemHandler.getKeyItemByName(player.recentKeyItem()).name() + '.png'}"
                        src=""/><br>
                <span data-bind="text: KeyItemHandler.getKeyItemByName(player.recentKeyItem()).name()">Name</span><br>
                <span data-bind="text: KeyItemHandler.getKeyItemByName(player.recentKeyItem()).description()">Description</span>

            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>

<!-- Show keyitems modal-->
<div class="modal" id="showKeyitemsModal" tabindex="-1" role="dialog"
     aria-labelledby="showKeyitemModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content" style="text-align: center">
            <div class="modal-header">
                <div style="width: 100%;">
                    <img src="assets/images/oak.png">
                    <h5 class="modal-title" id="showKeyitemModalLabel">Key items</h5>
                </div>
            </div>
            <div class="modal-body">

                <div class="page-item" style="background-color: white;">

                    <div class="row no-gutters justify-content-sm-center"
                         data-bind="foreach: KeyItemHandler.keyItemList">
                        <div class="col-sm-2">
                            <img class="clickable key-item" src=""
                                 data-bind="attr:{ src: '/assets/images/keyitems/' + $data.name() + '.png'},
                                  css: {'oak-item-locked': !player.hasKeyItem($data.name())

                                        },
                                 event: {
                                    mouseover: function(){KeyItemHandler.hover($data.name())},
                                    click: function(){KeyItemHandler.click($data.name())},
                                    mouseout : function(){KeyItemHandler.hoverRelease()}
                                    }">
                        </div>
                    </div>

                    <div class="card oak-item-info" style="height:90px">
                        <div data-bind="if: KeyItemHandler.inspectedItem() !== null">
                            <div class="row justify-content-sm-center">
                                <div style="height: 20px" class="col-sm-11">
                                    <b><span data-bind="text: KeyItemHandler.inspectedItem().name()"></span></b>
                                </div>
                            </div>
                            <div class="row justify-content-sm-center">
                                <div class="col-sm-11">
                                    <div data-bind="if: KeyItemHandler.inspectedItem().isUnlocked()">
                                        <p style="margin-top: 5px"
                                           data-bind="text: KeyItemHandler.inspectedItem().description"></p>
                                    </div>
                                    <div data-bind="ifnot: KeyItemHandler.inspectedItem().isUnlocked()">
                                        <p style="margin-top: 5px">?????</p>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

</div>

<div class="container">
    <div class="row justify-content-lg-center">
        <h1>Pokeclicker</h1>
    </div>
    <div class="row justify-content-lg-center" style="text-align: center">

        <!--The next two divs switch around on large screens. This way, battle screen/map is on top on smaller screens-->
        <!--Middle column-->
        <div class="col-lg-6 push-lg-3">
            <div id="interactionView" class="page-item" style="background-color: white">
                <!--RouteBattleView-->
                <!--Use the base battle layout for fighting and dungeons.-->
                <div data-bind="if: (Game.gameState() == GameConstants.GameState.fighting || Game.gameState() == GameConstants.GameState.dungeon || Game.gameState() == GameConstants.GameState.paused)"
                     id="routeBattleView">
                    <div class="card">
                        <span>Money:
                            <span data-bind="text: player.money">todo</span>
                        </span>
                    </div>
                    <div data-bind="if: Game.gameState() == GameConstants.GameState.fighting">
                        <div style="height: 190px; display: block;" class="col-lg-12">
                            <div class="col-lg-12" style="display: block;">
                                Route
                                <span data-bind="text: player.route">number</span>
                                <!--If all Pokémon on the route are caught-->
                                <span data-bind="if: (!RouteHelper.routeCompleted(player.route(), player.region, true) && RouteHelper.routeCompleted(player.route(), player.region, false))">
                                    <img title="You have captured all Pokémon on this route!" class="pokeball-smallest"
                                         src="assets/images/pokeball/Pokeball-small.png"/>
                                </span>

                                <!--If all Pokémon on the route are caught shiny-->
                                <span data-bind="if: RouteHelper.routeCompleted(player.route(), player.region, true)">
                                    <img title="You have captured all Pokémon shiny on this route!"
                                         class="pokeball-smallest"
                                         src="assets/images/pokeball/Pokeball-shiny-small.png"/>
                                </span>

                                <br>
                                <span data-bind="text: player.routeKillsObservable(player.route())">kills</span>/<span
                                    data-bind="text: player.routeKillsNeeded">killsneeded</span><br>
                            </div>

                            <span data-bind="text: Battle.enemyPokemon().name">Pokemon name</span>

                            <!--This comment has to be here, otherwise the Pokéball is too far to the right #HTML-->
                            <span data-bind="if: (!player.alreadyCaughtPokemonShiny(Battle.enemyPokemon().name) && player.alreadyCaughtPokemon(Battle.enemyPokemon().name))">
                                <img title="You have captured this Pokémon!" class="pokeball-smallest"
                                     src="assets/images/pokeball/Pokeball-small.png"/>
                            </span>

                            <!--This comment has to be here, otherwise the Pokéball is too far to the right #HTML-->
                            <span data-bind="if: player.alreadyCaughtPokemonShiny(Battle.enemyPokemon().name)">
                                <img title="You have captured this Pokémon shiny!" class="pokeball-smallest"
                                     src="assets/images/pokeball/Pokeball-shiny-small.png"/>
                            </span>

                            <br>
                            <div style="height: 96px;">
                                <div data-bind="ifnot: Battle.catching">
                                    <img class="clickable" id="enemy"
                                         data-bind="click: function() {Battle.clickAttack()},
                                                    attr:{ src: PokemonHelper.getImage(Battle.enemyPokemon(), Battle.enemyPokemon().shiny) }"
                                         src=""/>
                                </div>
                                <div data-bind="if: Battle.catching">
                                    <img data-bind="attr:{ src: '/assets/images/pokeball/' + GameConstants.Pokeball[Battle.pokeball()] + '.png' }"
                                         src=""/>
                                </div>
                            </div>
                            <div class="progress">
                                <div class="progress-bar bg-danger" role="progressbar"
                                     data-bind="attr:{ style: 'width:' + Battle.enemyPokemon().healthPercentage() + '%' }"
                                     aria-valuemin="0" aria-valuemax="100">

                                </div>
                            </div>
                        </div>
                        <span data-bind="text: Battle.enemyPokemon().health">health</span><span>/</span>
                        <!---->
                        <span
                                data-bind="text: Battle.enemyPokemon().maxHealth">maxHealth</span>
                    </div>

                    <!--If the player is in a dungeon-->
                    <div data-bind="if: Game.gameState() == GameConstants.GameState.dungeon">
                        <div class="col-lg-12" style="display: block; height: 170px">
                            <div>
                                <span data-bind="text: DungeonRunner.dungeon.name()">Dungeon name</span>
                                <!--If all Pokémon on the route are caught-->
                                <span data-bind="if: (!DungeonRunner.dungeonCompleted(DungeonRunner.dungeon, true) && DungeonRunner.dungeonCompleted(DungeonRunner.dungeon, false))">
                                    <img title="You have captured all Pokémon on this route!" class="pokeball-smallest"
                                         src="assets/images/pokeball/Pokeball-small.png"/>
                                </span>

                                <!--If all Pokémon on the route are caught shiny-->
                                <span data-bind="if: DungeonRunner.dungeonCompleted(DungeonRunner.dungeon, true)">
                                    <img title="You have captured all Pokémon shiny on this route!"
                                         class="pokeball-smallest"
                                         src="assets/images/pokeball/Pokeball-shiny-small.png"/>
                                </span>
                                <br>
                                <div id="dungeonTimer" class="progress">
                                    <div class="progress-bar" role="progressbar"
                                         data-bind="text: DungeonRunner.timeLeftSeconds(), attr:{ style: 'width:' + DungeonRunner.timeLeftPercentage() + '%' }"
                                         aria-valuemin="0" aria-valuemax="100">
                                    </div>
                                </div>
                            </div>

                            <div data-bind="if: (DungeonRunner.fighting() || DungeonBattle.catching)">
                                <span data-bind="text: DungeonBattle.enemyPokemon().name">Pokemon name</span>

                                <!--This comment has to be here, otherwise the Pokéball is too far to the right #HTML-->
                                <span data-bind="if: (!player.alreadyCaughtPokemonShiny(Battle.enemyPokemon().name) && player.alreadyCaughtPokemon(Battle.enemyPokemon().name))">
                                    <img title="You have captured this Pokémon!" class="pokeball-smallest"
                                         src="assets/images/pokeball/Pokeball-small.png"/>
                                </span>

                                <!--This comment has to be here, otherwise the Pokéball is too far to the right #HTML-->
                                <span data-bind="if: player.alreadyCaughtPokemonShiny(Battle.enemyPokemon().name)">
                                    <img title="You have captured this Pokémon shiny!" class="pokeball-smallest"
                                         src="assets/images/pokeball/Pokeball-shiny-small.png"/>
                                </span>

                                <br>
                                <div style="height: 96px;">
                                    <div data-bind="ifnot: DungeonBattle.catching">
                                        <img id="dungeonEnemy"
                                             data-bind="click: function() {DungeonBattle.clickAttack()}, attr:{ src: PokemonHelper.getImage(DungeonBattle.enemyPokemon(), DungeonBattle.enemyPokemon().shiny) }"
                                             src=""/>
                                    </div>
                                    <div data-bind="if: DungeonBattle.catching">
                                        <img data-bind="attr:{ src: '/assets/images/pokeball/' + GameConstants.Pokeball[DungeonBattle.pokeball()] + '.png' }"
                                             src=""/>
                                    </div>
                                </div>
                                <div class="progress">
                                    <div class="progress-bar" role="progressbar"
                                         data-bind="attr:{ style: 'width:' + DungeonBattle.enemyPokemon().healthPercentage() + '%'}, css: { 'healthbar-boss': DungeonRunner.fightingBoss(), 'bg-danger': !DungeonRunner.fightingBoss()}"
                                         aria-valuemin="0" aria-valuemax="100">
                                    </div>
                                </div>
                            </div>
                            <div data-bind="if: DungeonRunner.map.currentTile().type() == GameConstants.DungeonTile.chest">
                                <img data-bind="click: function(){DungeonRunner.openChest()}"
                                     class="dungeon-chest"
                                     src="assets/images/dungeons/chest.png"/>
                            </div>

                            <div data-bind="if: (DungeonRunner.map.currentTile().type() == GameConstants.DungeonTile.boss && !DungeonRunner.fightingBoss())">
                                <button class="btn btn-danger dungeon-boss-button"
                                        data-bind="click: function(){DungeonRunner.startBossFight()}">Start
                                    Bossfight
                                </button>
                            </div>
                        </div>
                        <div data-bind="if: DungeonRunner.fighting()">
                            <div style="height: 30px">
                                <span data-bind="text: DungeonBattle.enemyPokemon().health">health</span>/<span
                                    data-bind="text: DungeonBattle.enemyPokemon().maxHealth">maxHealth</span>
                            </div>
                        </div>
                        <div data-bind="ifnot: DungeonRunner.fighting()">
                            <div style="height: 30px"></div>
                        </div>
                    </div>

                    <div class="card">
                        <table width="100%">
                            <tr>

                                <td width="50%">
                                    <span style="display: inline;">Pokémon Attack:
                                        <span
                                                data-bind="text: player.pokemonAttackObservable"></span>
                                    </span>
                                </td>
                                <td width="50%">
                                    <span style="display: inline;">Click Attack:
                                        <span
                                                data-bind="text: player.clickAttackObservable"></span>
                                    </span>
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>

                <!--TownView-->
                <div id="townView" data-bind="if: Game.gameState() == GameConstants.GameState.town"
                     class="justify-content-center no-gutters no-select">
                    <div class="row justify-content-center no-gutters" style="min-height: 100px;">
                        <div class="col no-gutters">
                            <div data-bind="if: player.town() instanceof PokemonLeague">
                                <ul class="nav flex-sm-column featureList pokemonLeagueList"
                                    data-bind="foreach: player.town().gymList">
                                    <li class="nav-item">
                                        <button
                                                data-bind="text: $data.leaderName,
                                                           disable: !Gym.isUnlocked($data),
                                                           click: function() {GymRunner.startGym($data)},
                                                           attr: { class: Gym.calculateCssClass($data)}">
                                            E4 Leader
                                        </button>
                                    </li>
                                </ul>
                            </div>
                            <ul class="nav flex-sm-column featureList">
                                <li class="nav-item" data-bind="if:player.town().gym">
                                    <button data-bind="attr: { class: Gym.calculateCssClass(player.town().gym()) }"
                                            onclick="GymRunner.startGym(player.town().gym())">
                                        Gym
                                    </button>
                                </li>
                                <li class="nav-item" data-bind="if:player.town().shop">
                                    <button class="btn btn-secondary"
                                            onclick="ShopHandler.showShop(player.town().shop())">Shop
                                    </button>
                                </li>
                                <div data-bind="if:player.town().dungeon()">
                                    <li class="nav-item" data-bind="if: player.town() instanceof DungeonTown">
                                        <button class="btn btn-secondary"
                                                onclick="DungeonRunner.initializeDungeon(player.town().dungeon())">
                                            Start<br>
                                            <span data-bind="text: player.town().dungeon().tokenCost"></span>
                                            tokens
                                        </button>
                                    </li>

                                    <li class="nav-item"
                                        data-bind="if:(!(player.town() instanceof DungeonTown) && player.town() instanceof Town)">
                                        <button class="btn btn-secondary"
                                                onclick="MapHelper.moveToTown(player.town().dungeon().name())">
                                            <span data-bind="text: player.town().dungeon().name()"></span>
                                        </button>
                                    </li>

                                </div>
                            </ul>
                        </div>
                        <div class="col-7 no-gutters">
                            <h2 class="pageItemTitle" data-bind="text: player.town().name()">Town Name</h2>
                            <img class="townImage no-select" src=""
                                 data-bind="attr:{ src: '/assets/images/towns/' + player.town().name() + '.png' }"/>
                        </div>
                        <div class="col no-gutters"></div>

                    </div>
                    <div data-bind="if: (player.town().dungeon() && player.town() instanceof DungeonTown)">
                        <div class="card">
                            <!--Display all available Pokémon in this dungeon-->
                            <ul class="list-inline"
                                data-bind="foreach: player.town().dungeon().allPokemonNames">
                                <li class="list-inline-item" data-bind="if: player.alreadyCaughtPokemon($data)">
                                    <img class="dungeon-pokemon-preview" src=""
                                         data-bind="attr:{ src: '/assets/images/pokemon/' + pokemonMap[$data].id + '.png' }"/>
                                </li>
                                <li class="list-inline-item"
                                    data-bind="ifnot: player.alreadyCaughtPokemon($data)">
                                    <img class="dungeon-pokemon-preview dungeon-pokemon-locked" src=""
                                         data-bind="attr:{ src: '/assets/images/pokemon/' + pokemonMap[$data].id + '.png' }"/>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!--GymView-->
                <div id="gymView" data-bind="if: Game.gameState() == GameConstants.GameState.gym">
                    <div>
                        <div class="col-lg-12" style="display: block;">
                            <div id="gymTimer" class="progress">
                                <div class="progress-bar" role="progressbar"
                                     data-bind="text: GymRunner.timeLeftSeconds(), attr:{ style: 'width:' + GymRunner.timeLeftPercentage() + '%' }"
                                     aria-valuemin="0" aria-valuemax="100">
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-4 offset-sm-4">
                                    <span data-bind="text: GymBattle.enemyPokemon().name">Pokemon name</span><br>
                                    <div class="clickable" style="height: 96px;">
                                        <img id="gymEnemy" src=""
                                             data-bind="click: function() {GymBattle.clickAttack()}, attr:{ src: '/assets/images/pokemon/' + GymBattle.enemyPokemon().id + '.png' }"/>
                                    </div>
                                </div>
                                <div class="col-sm-3" style="display: grid;">
                                    <span data-bind="text: GymBattle.gym.leaderName">Leader</span>
                                    <div class="gymPokeballList">
                                        <span data-bind="foreach: new Array(GymBattle.pokemonsUndefeatedComputable())"><img
                                                class="gymPokeball" src="assets/images/gymLeaders/pokeball.png"></span>
                                        <span data-bind="foreach: new Array(GymBattle.pokemonsDefeatedComputable())"><img
                                                class="gymPokeball gymPokeballDefeated"
                                                src="assets/images/gymLeaders/pokeball.png"></span>
                                    </div>
                                    <div>
                                        <img height="56px" id="gymLeader" src=""
                                             data-bind="attr:{ src: '/assets/images/gymLeaders/' + GymBattle.gym.leaderName + '.png'}">
                                    </div>

                                </div>
                            </div>
                            <div class="progress">
                                <div class="progress-bar bg-danger" role="progressbar"
                                     data-bind="attr:{ style: 'width:' + GymBattle.enemyPokemon().healthPercentage() + '%' }"
                                     aria-valuemin="0" aria-valuemax="100">

                                </div>
                            </div>
                        </div>
                        <span data-bind="text: GymBattle.enemyPokemon().health">health</span><span>/</span><span
                            data-bind="text: GymBattle.enemyPokemon().maxHealth">maxHealth</span>
                    </div>
                    <div class="card">
                        <table width="100%">
                            <tr>
                                <td width="50%"><span style="display: inline;">Pokémon Attack: <span
                                        data-bind="text: player.pokemonAttackObservable"></span></span></td>
                                <td width="50%"><span style="display: inline;">Click Attack: <span
                                        data-bind="text: player.clickAttackObservable"></span></span>
                                </td>
                            </tr>
                        </table>
                    </div>

                </div>
                <!--ShopView-->
                <div id="shopView"
                     data-bind="if: Game.gameState() == GameConstants.GameState.shop">
                    <div class="card">
                        <span>Money:
                            <span data-bind="text: player.money">todo</span>
                        </span>
                    </div>
                    <div class="row justify-content-center" data-bind="foreach: ShopHandler.shopObservable().items">
                        <div class="col-sm-3">
                            <div
                                    data-bind="click: function() {ShopHandler.setSelected($index())}, attr: {class: ShopHandler.calculateCss($index())}">
                                <img src="" height="36px"
                                     data-bind="attr:{ src: '/assets/images/items/' + name() + '.png' }">
                                <p data-bind="text: GameConstants.humanifyString(name())">Item Name</p>
                                <p>
                                    <img src=""
                                         data-bind="attr:{ src: '/assets/images/currency/' + GameConstants.Currency[currency]+ '.png' }">
                                    <span data-bind="text: totalPrice">Price</span>
                                </p>
                            </div>
                        </div>
                    </div>
                    <div class="row justify-content-center">
                        <div class="col-11 col-sm-10 col-md-11">
                            <div class="input-group" style="margin-bottom: 6px; margin-top: 6px">
                                <span class="input-group-btn">
                                    <button class="btn btn-secondary smallButton smallFont" type="button"
                                            onclick="ShopHandler.increaseAmount(-100)">-100
                                    </button>
                                </span>
                                <span class="input-group-btn">
                                    <button class="btn btn-secondary smallButton smallFont"
                                            type="button"
                                            onclick="ShopHandler.increaseAmount(-10)">-10
                                    </button>
                                </span>
                                <span class="input-group-btn">
                                    <button class="btn btn-danger smallButton smallFont"
                                            onclick="ShopHandler.resetAmount()">1
                                    </button>
                                </span>
                                <input id="amountOfItems" type="number" class="form-control form-control-number"
                                       value="1" min="1" required name="amountOfItems"
                                       oninput="ShopHandler.amount(parseInt($(this).val().toString()) || 0);"
                                       onchange="ShopHandler.amount(parseInt($(this).val().toString()) || 0);" title="">
                                <span class="input-group-btn">
                                    <button class="btn btn-secondary smallButton smallFont" type="button"
                                            onclick="ShopHandler.increaseAmount(10)">+10
                                    </button>
                                </span>
                                <span class="input-group-btn">
                                    <button class="btn btn-secondary smallButton smallFont"
                                            type="button"
                                            onclick="ShopHandler.increaseAmount(100)">+100
                                    </button>
                                </span>
                                <span class="input-group-btn" style="float: right;">
                                    <button data-bind="attr: {class: ShopHandler.calculateButtonCss()}"
                                            onclick="ShopHandler.buyItem()">Buy
                                    </button>
                                </span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div data-bind="if: Game.gameState() == GameConstants.GameState.dungeon">
                <div class="page-item no-select" style="background-color: white">
                    <div class="dungeon">
                        <div class="card">
                            <span data-bind="text: DungeonRunner.dungeon.name()"></span>
                        </div>
                        <div class="row justify-content-sm-center">
                            <div class="dungeon-board"
                                 data-bind="foreach: DungeonRunner.map.board()">
                                <div class="row" data-bind="foreach: $data">
                                    <div data-bind=" click: function(){DungeonRunner.map.moveToCoordinates($context.$index(), $parentContext.$index()) }, attr: { class: $data.cssClass}">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div data-bind="if:KeyItemHandler.getKeyItemObservableByName('Town map')().isUnlocked()">
                <div data-bind="if: (Game.gameState() == GameConstants.GameState.fighting || Game.gameState() == GameConstants.GameState.gym || Game.gameState() == GameConstants.GameState.town||
                    Game.gameState() == GameConstants.GameState.shop)">
                    <div class="page-item no-select">
                        <svg id="map" viewBox="0 0 650 400" preserveAspectRatio="xMaxYMax meet">
                            <defs>
                                <lineargradient id="mx-gradient-f8cecc-1-ea583b-1-s-0" x1="0%" x2="0%" y1="0%"
                                                y2="100%">
                                    <stop offset="0%" style="stop-color:#F8CECC"></stop>
                                    <stop offset="100%" style="stop-color:#EA583B"></stop>
                                </lineargradient>
                                <lineargradient id="mx-gradient-dae8fc-1-7ea6e0-1-s-0" x1="0%" x2="0%" y1="0%"
                                                y2="100%">
                                    <stop offset="0%" style="stop-color:#DAE8FC"></stop>
                                    <stop offset="100%" style="stop-color:#7EA6E0"></stop>
                                </lineargradient>
                            </defs>
                            <g transform="translate(-1,-1)">
                                <image height="420.7" width="651" xlink:href="assets/images/kanto.png"></image>

                                <!--Route 1-->
                                <g transform="rotate(90,83.65,263.2)"
                                   data-bind="click:function(){ MapHelper.moveToRoute(1, 0); } ">
                                    <rect data-route='1'
                                          data-bind="attr: { class: MapHelper.calculateRouteCssClass(1,0)() }"
                                          height="28"
                                          width="80.1"
                                          x="51.3" y="250.2"></rect>
                                    <text font-size="13px" x="82.3" y="268.2">1</text>
                                </g>

                                <!--Route 2-->
                                <g transform="rotate(90,83.65,263.2)"
                                   data-bind="click:function(){ MapHelper.moveToRoute(2, 0); } ">
                                    <rect data-route='2'
                                          data-bind="attr: { class: MapHelper.calculateRouteCssClass(2,0)() }"
                                          height="28"
                                          width="120.1"
                                          x="-70" y="250.2"></rect>
                                    <text font-size="13px" x="5" y="268.2">2</text>
                                </g>

                                <!--Route 3-->
                                <g data-bind="click:function(){ MapHelper.moveToRoute(3, 0); } ">
                                    <rect data-route='3'
                                          data-bind="attr: { class: MapHelper.calculateRouteCssClass(3,0)() }"
                                          height="28"
                                          width="112.1"
                                          x="92.3" y="100.1"></rect>
                                    <text x="140" y="120.1">3</text>
                                </g>

                                <!--Route 4-->
                                <g data-bind="click:function(){ MapHelper.moveToRoute(4, 0); } ">
                                    <rect data-route='4'
                                          data-bind="attr: { class: MapHelper.calculateRouteCssClass(4,0)() }"
                                          height="28"
                                          width="170"
                                          x="174.3" y="72.8"></rect>
                                    <text x="254.3" y="92.8">4</text>
                                </g>

                                <!--Route 5-->
                                <g transform="rotate(90,31.5,9.5)"
                                   data-bind="click:function(){ MapHelper.moveToRoute(5, 0); } ">
                                    <rect data-route='5'
                                          data-bind="attr: { class: MapHelper.calculateRouteCssClass(5,0)() }"
                                          height="28"
                                          width="70"
                                          x="120" y="-324"></rect>
                                    <text x="155" y="-305">5</text>
                                </g>

                                <!--Route 6-->
                                <g transform="rotate(90,31.5,9.5)"
                                   data-bind="click:function(){ MapHelper.moveToRoute(6, 0); } ">
                                    <rect data-route='6'
                                          data-bind="attr: { class: MapHelper.calculateRouteCssClass(6,0)() }"
                                          height="28"
                                          width="70"
                                          x="200" y="-324"></rect>
                                    <text x="230" y="-305">6</text>
                                </g>

                                <!--Route 7-->
                                <g data-bind="click:function(){ MapHelper.moveToRoute(7, 0); } ">
                                    <rect data-route='7'
                                          data-bind="attr: { class: MapHelper.calculateRouteCssClass(7,0)() }"
                                          height="28"
                                          width="112.1"
                                          x="345.3" y="152.1"></rect>
                                    <text x="395.3" y="173.1">7</text>
                                </g>

                                <!--Route 8-->
                                <g data-bind="click:function(){ MapHelper.moveToRoute(8, 0); } ">
                                    <rect data-route='8'
                                          data-bind="attr: { class: MapHelper.calculateRouteCssClass(8,0)() }"
                                          height="28"
                                          width="90.1"
                                          x="270.3" y="152.1"></rect>
                                    <text x="304.3" y="172.1">8</text>
                                </g>

                                <!--Route 9-->
                                <g data-bind="click:function(){ MapHelper.moveToRoute(9, 0); } ">
                                    <rect data-route='9'
                                          data-bind="attr: { class: MapHelper.calculateRouteCssClass(9,0)() }"
                                          height="28"
                                          width="112.1"
                                          x="345.3" y="72.8"></rect>
                                    <text x="395.3" y="92.8">9</text>
                                </g>

                                <!--Route 10-->
                                <g data-bind="click:function(){ MapHelper.moveToRoute(10, 0); } ">
                                    <rect data-route='10'
                                          data-bind="attr: { class: MapHelper.calculateRouteCssClass(10,0)() }"
                                          height="28"
                                          width="90"
                                          transform="rotate(90,31.5,9.5)"
                                          x="95" y="-430"></rect>
                                    <text x="449" y="142">10</text>
                                </g>

                                <!--Route 11-->
                                <g data-bind="click:function(){ MapHelper.moveToRoute(11, 0); } ">
                                    <rect data-route='11'
                                          data-bind="attr: { class: MapHelper.calculateRouteCssClass(11,0)() }"
                                          height="28"
                                          width="99.3"
                                          x="345.3" y="231.8"></rect>
                                    <text x="395.3" y="252.8">11</text>
                                </g>

                                <!--Route 12-->
                                <g transform="rotate(90,31.5,9.5)"
                                   data-bind="click:function(){ MapHelper.moveToRoute(12, 0); } ">
                                    <rect data-route='12'
                                          data-bind="attr: { class: MapHelper.calculateRouteCssClass(12,0)() }"
                                          height="28"
                                          width="82"
                                          x="200" y="-430"></rect>
                                    <text x="230" y="-410">12</text>
                                </g>

                                <!--Route 13-->
                                <g transform="rotate(90,31.5,9.5)"
                                   data-bind="click:function(){ MapHelper.moveToRoute(13, 0); } ">
                                    <rect data-route='13'
                                          data-bind="attr: { class: MapHelper.calculateRouteCssClass(13,0)() }"
                                          height="28"
                                          width="56"
                                          x="281" y="-430"></rect>
                                    <text x="304" y="-412">13</text>
                                </g>

                                <!--Route 14-->
                                <g data-bind="click:function(){ MapHelper.moveToRoute(14, 0); } ">
                                    <rect data-route='14'
                                          data-bind="attr: { class: MapHelper.calculateRouteCssClass(14,0)() }"
                                          height="28"
                                          width="80.3"
                                          x="363.3" y="287"></rect>
                                    <text x="393.3" y="305.8">14</text>
                                </g>

                                <!--Route 15-->
                                <g data-bind="click:function(){ MapHelper.moveToRoute(15, 0); } ">
                                    <rect data-route='15'
                                          data-bind="attr: { class: MapHelper.calculateRouteCssClass(15,0)() }"
                                          height="28"
                                          width="101.3"
                                          x="290.3" y="314"></rect>
                                    <text x="338.3" y="333">15</text>
                                </g>

                                <!--Route 16-->
                                <g data-bind="click:function(){ MapHelper.moveToRoute(16, 0); } ">
                                    <rect data-route='16'
                                          data-bind="attr: { class: MapHelper.calculateRouteCssClass(16,0)() }"
                                          height="28"
                                          width="130.1"
                                          x="148.3" y="152.1"></rect>
                                    <text x="200.3" y="172.1">16</text>
                                </g>

                                <!--Route 17-->
                                <g transform="rotate(90,31.5,9.5)"
                                   data-bind="click:function(){ MapHelper.moveToRoute(17, 0); } ">
                                    <rect data-route='17'
                                          data-bind="attr: { class: MapHelper.calculateRouteCssClass(17,0)() }"
                                          height="28"
                                          width="137"
                                          x="200" y="-135.3"></rect>
                                    <text x="260" y="-116">17</text>
                                </g>

                                <!--Route 18-->
                                <g data-bind="click:function(){ MapHelper.moveToRoute(18, 0); } ">
                                    <rect data-route='18'
                                          data-bind="attr: { class: MapHelper.calculateRouteCssClass(18,0)() }"
                                          height="28"
                                          width="145.3"
                                          x="148.3" y="314"></rect>
                                    <text x="190.3" y="333">18</text>
                                </g>

                                <!--Route 19-->
                                <g transform="rotate(90,83.65,263.2)"
                                   data-bind="click:function(){ MapHelper.moveToRoute(19, 0); } ">
                                    <rect data-route='19'
                                          data-bind="attr: { class: MapHelper.calculateRouteCssClass(19,0)() }"
                                          height="28"
                                          width="64"
                                          x="151.3" y="35.2"></rect>
                                </g>

                                <!--Route 19-->
                                <g data-bind="click:function(){ MapHelper.moveToRoute(19, 0); } ">
                                    <rect data-route='19'
                                          data-bind="attr: { class: MapHelper.calculateRouteCssClass(19,0)() }"
                                          height="28"
                                          width="105.3"
                                          x="188.3" y="367"></rect>
                                    <text x="235.3" y="387">19</text>
                                </g>

                                <!--Route 20-->
                                <g data-bind="click:function(){ MapHelper.moveToRoute(20, 0); } ">
                                    <rect data-route='20'
                                          data-bind="attr: { class: MapHelper.calculateRouteCssClass(20,0)() }"
                                          height="28"
                                          width="99"
                                          x="90.3" y="367"></rect>
                                    <text x="129.3" y="387">20</text>
                                </g>

                                <!--Route 21-->
                                <g transform="rotate(90,83.65,263.2)"
                                   data-bind="click:function(){ MapHelper.moveToRoute(21, 0); } ">
                                    <rect data-route='21'
                                          data-bind="attr: { class: MapHelper.calculateRouteCssClass(21,0)() }"
                                          height="28"
                                          width="80.1"
                                          x="121.3" y="250.2"></rect>
                                    <text transform="rotate(-90,166.65,263.2)" font-size="12px" x="158.3" y="268.2">
                                        21
                                    </text>
                                </g>

                                <!--Route 22-->
                                <g data-bind="click:function(){ MapHelper.moveToRoute(22, 0); } ">
                                    <rect data-route='22'
                                          data-bind="attr: { class: MapHelper.calculateRouteCssClass(22,0)() }"
                                          height="28"
                                          width="75"
                                          x="15.3" y="205"></rect>
                                    <text x="39.3" y="225">22</text>
                                </g>

                                <!--Route 23-->
                                <g transform="rotate(90,83.65,263.2)"
                                   data-bind="click:function(){ MapHelper.moveToRoute(23, 0); } ">
                                    <rect data-route='23'
                                          data-bind="attr: { class: MapHelper.calculateRouteCssClass(23,0)() }"
                                          height="28"
                                          width="116"
                                          x="-90" y="304"></rect>
                                    <text x="-25" y="323">23</text>
                                </g>

                                <!--Route 24-->
                                <g data-bind="click:function(){ MapHelper.moveToRoute(24, 0); } ">
                                    <rect data-route='24' transform="rotate(90,31.5,9.5)"
                                          data-bind="attr: { class: MapHelper.calculateRouteCssClass(24,0)() }"
                                          height="28"
                                          width="40"
                                          x="67" y="-324"></rect>
                                    <text x="343" y="64.8">24</text>
                                </g>

                                <!--Route 25-->
                                <g data-bind="click:function(){ MapHelper.moveToRoute(25, 0); } ">
                                    <rect data-route='25'
                                          data-bind="attr: { class: MapHelper.calculateRouteCssClass(25,0)() }"
                                          height="28"
                                          width="83"
                                          x="337" y="18"></rect>
                                    <text x="369" y="38">25</text>
                                </g>

                                <path d="M 70 108.39 L 78.29 100.1 L 89.71 100.1 L 98 108.39 L 98 119.81 L 89.71 128.1 L 78.29 128.1 L 70 119.81 Z"
                                      fill="#ffffff" stroke="#000000" stroke-miterlimit="10" stroke-width="1.4">
                                </path>
                                <path class="city" id="Pewter City"
                                      data-bind="click:function(){MapHelper.moveToTown('Pewter City')}"
                                      d="M 72.8 109.53 L 79.43 102.9 L 88.57 102.9 L 95.2 109.53 L 95.2 118.67 L 88.57 125.3 L 79.43 125.3 L 72.8 118.67 Z"
                                      fill="url(#mx-gradient-f8cecc-1-ea583b-1-s-0)" stroke="#b85450"
                                      stroke-miterlimit="10" stroke-width="1.4"></path>
                                <path d="M 70 215.49 L 78.29 207.2 L 89.71 207.2 L 98 215.49 L 98 226.91 L 89.71 235.2 L 78.29 235.2 L 70 226.91 Z"
                                      fill="#ffffff" stroke="#000000" stroke-miterlimit="10" stroke-width="1.4">
                                </path>
                                <path class="city" id="Viridian City"
                                      data-bind="click:function(){MapHelper.moveToTown('Viridian City')}"
                                      d="M 72.8 216.63 L 79.43 210 L 88.57 210 L 95.2 216.63 L 95.2 225.77 L 88.57 232.4 L 79.43 232.4 L 72.8 225.77 Z"
                                      fill="url(#mx-gradient-f8cecc-1-ea583b-1-s-0)" stroke="#b85450"
                                      stroke-miterlimit="10" stroke-width="1.4"></path>
                                <path d="M 69.3 296.69 L 77.59 288.4 L 89.01 288.4 L 97.3 296.69 L 97.3 308.11 L 89.01 316.4 L 77.59 316.4 L 69.3 308.11 Z"
                                      fill="#ffffff" stroke="#000000" stroke-miterlimit="10" stroke-width=
                                              "1.4"></path>
                                <path class="city" id="Pallet Town"
                                      data-bind="click:function(){MapHelper.moveToTown('Pallet Town')}"
                                      d="M 72.1 297.83 L 78.73 291.2 L 87.87 291.2 L 94.5 297.83 L 94.5 306.97 L 87.87 313.6 L 78.73 313.6 L 72.1 306.97 Z"
                                      fill="url(#mx-gradient-f8cecc-1-ea583b-1-s-0)" stroke="#b85450"
                                      stroke-miterlimit="10" stroke-width="1.4"></path>
                                <path d="M 338.1 161.59 L 346.39 153.3 L 357.81 153.3 L 366.1 161.59 L 366.1 173.01 L 357.81 181.3 L 346.39 181.3 L 338.1 173.01 Z"
                                      fill="#ffffff" stroke="#000000" stroke-miterlimit="10"
                                      stroke-width="1.4"></path>
                                <path class="city" id="Saffron City"
                                      data-bind="click:function(){MapHelper.moveToTown('Saffron City')}"
                                      d="M 340.9 162.73 L 347.53 156.1 L 356.67 156.1 L 363.3 162.73 L 363.3 171.87 L 356.67 178.5 L 347.53 178.5 L 340.9 171.87 Z"
                                      fill="url(#mx-gradient-f8cecc-1-ea583b-1-s-0)" stroke=
                                              "#b85450" stroke-miterlimit="10" stroke-width="1.4"></path>
                                <path d="M 254.1 161.59 L 262.39 153.3 L 273.81 153.3 L 282.1 161.59 L 282.1 173.01 L 273.81 181.3 L 262.39 181.3 L 254.1 173.01 Z"
                                      fill="#ffffff" stroke="#000000" stroke-miterlimit="10"
                                      stroke-width="1.4"></path>
                                <path class="city" id="Celadon City"
                                      data-bind="click:function(){MapHelper.moveToTown('Celadon City')}"
                                      d="M 256.9 162.73 L 263.53 156.1 L 272.67 156.1 L 279.3 162.73 L 279.3 171.87 L 272.67 178.5 L 263.53 178.5 L 256.9 171.87 Z"
                                      fill="url(#mx-gradient-f8cecc-1-ea583b-1-s-0)" stroke=
                                              "#b85450" stroke-miterlimit="10" stroke-width="1.4"></path>
                                <path d="M 336.7 241.39 L 344.99 233.1 L 356.41 233.1 L 364.7 241.39 L 364.7 252.81 L 356.41 261.1 L 344.99 261.1 L 336.7 252.81 Z"
                                      fill="#ffffff" stroke="#000000" stroke-miterlimit="10"
                                      stroke-width="1.4"></path>
                                <path class="city" id="Vermillion City"
                                      data-bind="click:function(){MapHelper.moveToTown('Vermillion City')}"
                                      d="M 339.5 242.53 L 346.13 235.9 L 355.27 235.9 L 361.9 242.53 L 361.9 251.67 L 355.27 258.3 L 346.13 258.3 L 339.5 251.67 Z"
                                      fill="url(#mx-gradient-f8cecc-1-ea583b-1-s-0)" stroke=
                                              "#b85450" stroke-miterlimit="10" stroke-width="1.4"></path>
                                <path d="M 16.1 81.09 L 24.39 72.8 L 35.81 72.8 L 44.1 81.09 L 44.1 92.51 L 35.81 100.8 L 24.39 100.8 L 16.1 92.51 Z"
                                      fill="#ffffff" stroke="#000000" stroke-miterlimit="10" stroke-width="1.4">
                                </path>
                                <path class="city" id="Indigo Plateau"
                                      data-bind="click:function(){MapHelper.moveToTown('Indigo Plateau')}"
                                      d="M 18.9 82.23 L 25.53 75.6 L 34.67 75.6 L 41.3 82.23 L 41.3 91.37 L 34.67 98 L 25.53 98 L 18.9 91.37 Z"
                                      fill="url(#mx-gradient-f8cecc-1-ea583b-1-s-0)" stroke="#b85450"
                                      stroke-miterlimit="10" stroke-width="1.4"></path>
                                <path d="M 338.1 79.69 L 346.39 71.4 L 357.81 71.4 L 366.1 79.69 L 366.1 91.11 L 357.81 99.4 L 346.39 99.4 L 338.1 91.11 Z"
                                      fill="#ffffff" stroke="#000000" stroke-miterlimit="10" stroke-width=
                                              "1.4"></path>
                                <path class="city" id="Cerulean City"
                                      data-bind="click:function(){MapHelper.moveToTown('Cerulean City')}"
                                      d="M 340.9 80.83 L 347.53 74.2 L 356.67 74.2 L 363.3 80.83 L 363.3 89.97 L 356.67 96.6 L 347.53 96.6 L 340.9 89.97 Z"
                                      fill="url(#mx-gradient-f8cecc-1-ea583b-1-s-0)" stroke="#b85450"
                                      stroke-miterlimit="10" stroke-width="1.4"></path>
                                <path d="M 445.2 162.99 L 453.49 154.7 L 464.91 154.7 L 473.2 162.99 L 473.2 174.41 L 464.91 182.7 L 453.49 182.7 L 445.2 174.41 Z"
                                      fill="#ffffff" stroke="#000000" stroke-miterlimit="10"
                                      stroke-width="1.4"></path>
                                <path class="city" id="Lavender Town"
                                      data-bind="click:function(){MapHelper.moveToTown('Lavender Town')}"
                                      d="M 448 164.13 L 454.63 157.5 L 463.77 157.5 L 470.4 164.13 L 470.4 173.27 L 463.77 179.9 L 454.63 179.9 L 448 173.27 Z"
                                      fill="url(#mx-gradient-f8cecc-1-ea583b-1-s-0)" stroke="#b85450"
                                      stroke-miterlimit="10" stroke-width="1.4"></path>
                                <rect fill="#ffffff" height="15.4" stroke="none" width="15.4" x="456.4"
                                      y="166.6"></rect>
                                <rect class="city" id="Pokemon Tower" fill="url(#mx-gradient-dae8fc-1-7ea6e0-1-s-0)"
                                      height="12.6" stroke="#6c8ebf" width="12.6" x="457.8" y="168"></rect>
                                <path d="M 284.2 323.29 L 292.49 315 L 303.91 315 L 312.2 323.29 L 312.2 334.71 L 303.91 343 L 292.49 343 L 284.2 334.71 Z"
                                      fill="#ffffff" stroke="#000000" stroke-miterlimit="10" stroke-width=
                                              "1.4"></path>
                                <path class="city" id="Fuchsia City"
                                      data-bind="click:function(){MapHelper.moveToTown('Fuchsia City')}"
                                      d="M 287 324.43 L 293.63 317.8 L 302.77 317.8 L 309.4 324.43 L 309.4 333.57 L 302.77 340.2 L 293.63 340.2 L 287 333.57 Z"
                                      fill="url(#mx-gradient-f8cecc-1-ea583b-1-s-0)" stroke="#b85450"
                                      stroke-miterlimit="10" stroke-width="1.4"></path>
                                <!-- <rect fill="#ffffff" height="15.4" stroke="none" width="15.4" x="295.4" y="326.9"></rect>
                                <rect  class="city" id="Fuchsia City" fill="url(#mx-gradient-dae8fc-1-7ea6e0-1-s-0)" height="12.6" stroke="#6c8ebf" width="12.6" x="296.8" y="328.3"></rect>
                                 -->
                                <path d="M 70 375.79 L 78.29 367.5 L 89.71 367.5 L 98 375.79 L 98 387.21 L 89.71 395.5 L 78.29 395.5 L 70 387.21 Z"
                                      fill="#ffffff" stroke="#000000" stroke-miterlimit="10" stroke-width="1.4">
                                </path>
                                <path class="city" id="Cinnabar Island"
                                      data-bind="click:function(){MapHelper.moveToTown('Cinnabar Island')}"
                                      d="M 72.8 376.93 L 79.43 370.3 L 88.57 370.3 L 95.2 376.93 L 95.2 386.07 L 88.57 392.7 L 79.43 392.7 L 72.8 386.07 Z"
                                      fill="url(#mx-gradient-f8cecc-1-ea583b-1-s-0)" stroke="#b85450"
                                      stroke-miterlimit="10" stroke-width="1.4"></path>
                                <rect fill="#ffffff" height="15.4" stroke="none" width="15.4" x="81.2"
                                      y="379.4"></rect>
                                <rect class="city" id="Pokemon Mansion"
                                      fill="url(#mx-gradient-dae8fc-1-7ea6e0-1-s-0)"
                                      height="12.6" stroke="#6c8ebf" width="12.6" x="82.6" y="380.8"></rect>

                                <rect fill="#ffffff" height="15.4" stroke="none" width="15.4" x="349.3"
                                      y="83.3"></rect>
                                <rect class="city" id="Cerulean Cave" fill="url(#mx-gradient-dae8fc-1-7ea6e0-1-s-0)"
                                      height="12.6" stroke="#6c8ebf" width="12.6" x="350.7" y="84.7"></rect>

                                <rect fill="#ffffff" height="15.4" stroke="none" width="15.4" x="22.4"
                                      y="109.9"></rect>
                                <rect data-bind="click:function(){MapHelper.moveToTown('Victory Road')}" class="city"
                                      id="Victory Road" fill="url(#mx-gradient-dae8fc-1-7ea6e0-1-s-0)"
                                      height="12.6" stroke="#6c8ebf" width="12.6" x="23.8" y="111.3"></rect>

                                <rect fill="#ffffff" height="15.4" stroke="none" width="15.4" x="76.3"
                                      y="133"></rect>
                                <rect data-bind="click:function(){MapHelper.moveToTown('Digletts Cave')}"
                                      class="city"
                                      id="Digletts Cave" fill="url(#mx-gradient-dae8fc-1-7ea6e0-1-s-0)"
                                      height="12.6" stroke="#6c8ebf" width="12.6" x="77.7" y="134.4"></rect>

                                <rect fill="#ffffff" height="15.4" stroke="none" width="15.4" x="76.3"
                                      y="156.1"></rect>
                                <rect data-bind="click:function(){MapHelper.moveToTown('Viridian Forest')}"
                                      class="city"
                                      id="Viridian Forest" fill="url(#mx-gradient-dae8fc-1-7ea6e0-1-s-0)"
                                      height="12.6" stroke="#6c8ebf" width="12.6" x="77.7" y="157.5"></rect>

                                <rect fill="#ffffff" height="15.4" stroke="none" width="15.4" x="181.3"
                                      y="374.5"></rect>
                                <rect data-bind="click:function(){MapHelper.moveToTown('Seafoam Islands')}"
                                      class="city"
                                      id="Seafoam Islands" fill="url(#mx-gradient-dae8fc-1-7ea6e0-1-s-0)"
                                      height="12.6" stroke="#6c8ebf" width="12.6" x="182.7" y="375.9"></rect>

                                <rect fill="#ffffff" height="15.4" stroke="none" width="15.4" x="210"
                                      y="79.1"></rect>
                                <rect data-bind="click:function(){MapHelper.moveToTown('Mt. Moon')}" class="city"
                                      id="Mt. Moon" fill="url(#mx-gradient-dae8fc-1-7ea6e0-1-s-0)"
                                      height="12.6"
                                      stroke="#6c8ebf" width="12.6" x="211.4" y="80.5"></rect>

                                <!-- 								<rect fill="#ffffff" height="15.4" stroke="none" width="15.4" x="371.7" y="240.1"></rect>
                                                                <rect class="city" id="Digletts Cave 2" fill="url(#mx-gradient-dae8fc-1-7ea6e0-1-s-0)" height="12.6" stroke="#6c8ebf" width="12.6" x="373.1" y="241.5"></rect>
                                 -->
                                <rect fill="#ffffff" height="15.4" stroke="none" width="15.4" x="451.5"
                                      y="79.1"></rect>
                                <rect data-bind="click:function(){MapHelper.moveToTown('Rock Tunnel')}" class="city"
                                      id="Rock Tunnel" fill="url(#mx-gradient-dae8fc-1-7ea6e0-1-s-0)"
                                      height="12.6"
                                      stroke="#6c8ebf" width="12.6" x="452.9" y="80.5"></rect>

                                <rect fill="#ffffff" height="15.4" stroke="none" width="15.4" x="451.5"
                                      y="103.6"></rect>
                                <rect data-bind="click:function(){MapHelper.moveToTown('Power Plant')}" class="city"
                                      id="Power Plant" fill="url(#mx-gradient-dae8fc-1-7ea6e0-1-s-0)"
                                      height="12.6"
                                      stroke="#6c8ebf" width="12.6" x="452.9" y="105"></rect>

                                <rect fill="#ffffff" height="15.4" stroke="none" width="15.4" x="343.6"
                                      y="109.3"></rect>
                                <rect class="city" id="Pokemon Day Care" fill="url(#mx-gradient-dae8fc-1-7ea6e0-1-s-0)"
                                      height="12.6" stroke="#6c8ebf" width="12.6" x="345" y="110.7"
                                      data-bind="click:function(){BreedingHelper.openBreedingModal()}"></rect>
                                <rect class="city" id="Underground Entrance"
                                      fill="url(#mx-gradient-dae8fc-1-7ea6e0-1-s-0)"
                                      height="12.6" stroke="#6c8ebf" width="12.6" x="380" y="240.7"
                                      data-bind="click:function(){Underground.openUndergroundModal()}"></rect>
                            </g>
                        </svg>
                    </div>
                </div>
            </div>
        </div>

        <!--left column-->
        <div class="col-lg-3 pull-lg-6">
            <div class="page-item" style="background-color: white; min-height: 180px">
                <div class="row justify-content-sm-center">
                    <div class="col-sm-10">
                        <table class="table pokeball-table borderless">
                            <thead>
                            <tr>
                                <td>Caught</td>
                                <td>#</td>
                                <td>New</td>
                            </tr>
                            </thead>
                            <tbody>
                            <tr>
                                <td>
                                    <img class="pokeball-small clickable" src="assets/images/pokeball/None.png"
                                         data-bind="click: function(){player.setAlreadyCaughtBallSelection(GameConstants.Pokeball.None)}, css: {'pokeball-selected': player._alreadyCaughtBallSelection() == GameConstants.Pokeball.None}"/>
                                </td>
                                <td></td>
                                <td>
                                    <img class="pokeball-small clickable" src="assets/images/pokeball/None.png"
                                         data-bind="click: function(){player.setNotCaughtBallSelection(GameConstants.Pokeball.None)}, css: {'pokeball-selected': player._notCaughtBallSelection() == GameConstants.Pokeball.None}"/>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <img class="pokeball-small clickable"
                                         src="assets/images/pokeball/Pokeball-small.png"
                                         data-bind="click: function(){player.setAlreadyCaughtBallSelection(GameConstants.Pokeball.Pokeball)}, css: {'pokeball-selected': player._alreadyCaughtBallSelection() == GameConstants.Pokeball.Pokeball}"/>
                                </td>
                                <td>
                                    <span data-bind="text: player.pokeballsObservable(0)"></span>
                                </td>
                                <td>
                                    <img class="pokeball-small clickable"
                                         src="assets/images/pokeball/Pokeball-small.png"
                                         data-bind="click: function(){player.setNotCaughtBallSelection(GameConstants.Pokeball.Pokeball)}, css: {'pokeball-selected': player._notCaughtBallSelection() == GameConstants.Pokeball.Pokeball}"/>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <img class="pokeball-small clickable"
                                         src="assets/images/pokeball/Greatball-small.png"
                                         data-bind="click: function(){player.setAlreadyCaughtBallSelection(GameConstants.Pokeball.Greatball)}, css: {'pokeball-selected': player._alreadyCaughtBallSelection() == GameConstants.Pokeball.Greatball}"/>
                                </td>
                                <td>
                                    <span data-bind="text: player.pokeballsObservable(1)"></span>
                                </td>
                                <td>
                                    <img class="pokeball-small clickable"
                                         src="assets/images/pokeball/Greatball-small.png"
                                         data-bind="click: function(){player.setNotCaughtBallSelection(GameConstants.Pokeball.Greatball)}, css: {'pokeball-selected': player._notCaughtBallSelection() == GameConstants.Pokeball.Greatball}"/>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <img class="pokeball-small clickable"
                                         src="assets/images/pokeball/Ultraball-small.png"
                                         data-bind="click: function(){player.setAlreadyCaughtBallSelection(GameConstants.Pokeball.Ultraball)}, css: {'pokeball-selected': player._alreadyCaughtBallSelection() == GameConstants.Pokeball.Ultraball}"/>
                                </td>
                                <td>
                                    <span data-bind="text: player.pokeballsObservable(2)"></span>
                                </td>
                                <td>
                                    <img class="pokeball-small clickable"
                                         src="assets/images/pokeball/Ultraball-small.png"
                                         data-bind="click: function(){player.setNotCaughtBallSelection(GameConstants.Pokeball.Ultraball)}, css: {'pokeball-selected': player._notCaughtBallSelection() == GameConstants.Pokeball.Ultraball}"/>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <img class="pokeball-small clickable"
                                         src="assets/images/pokeball/Masterball-small.png"
                                         data-bind="click: function(){player.setAlreadyCaughtBallSelection(GameConstants.Pokeball.Masterball)}, css: {'pokeball-selected': player._alreadyCaughtBallSelection() == GameConstants.Pokeball.Masterball}"/>
                                </td>
                                <td>
                                    <span data-bind="text: player.pokeballsObservable(3)"></span>
                                </td>
                                <td>
                                    <img class="pokeball-small clickable"
                                         src="assets/images/pokeball/Masterball-small.png"
                                         data-bind="click: function(){player.setNotCaughtBallSelection(GameConstants.Pokeball.Masterball)}, css: {'pokeball-selected': player._notCaughtBallSelection() == GameConstants.Pokeball.Masterball}"/>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </div>

                </div>
            </div>

            <div class="page-item pokemon-list-container" style="background-color: white">
                <select data-bind="options: GameConstants.SortOptions,
                                   optionsText: 'optionText',
                                   optionsValue: 'optionValue',
                                   value: player._sortOption,
                                   optionsCaption: 'Sort By...'" title="">
                </select>
                <p>
                    Reverse
                    <input class="clickable" type='checkbox' data-bind="checked: player._sortDescending" title=""/>
                </p>
                <table id="pokemonList" class="table table-striped table-hover">
                    <thead>
                    <tr>
                        <th style="margin-left: 9px;">Name</th>
                        <th>Atk</th>
                        <th>Lvl</th>
                    </tr>
                    </thead>
                    <tbody data-bind="template: { name: 'pokemonListTemplate', foreach: player.sortedPokemonList()}">

                    </tbody>
                </table>
            </div>

        </div>

        <!--Right column-->
        <div class="col-lg-3">
            <div class="page-item" style="background-color: white;">
                <div class="card">
                    <span style="text-align:center"
                          data-bind="text: OakItemRunner.getTotalActiveOakItems() + '/' + player.calculateOakItemSlots()()">
                        asd
                    </span>
                </div>
                <div class="row justify-content-sm-center" data-bind="foreach: OakItemRunner.oakItemList">
                    <div>
                        <div>
                            <img class="clickable" src=""
                                 data-bind="attr:{ src: '/assets/images/oakitems/' + $data.name() + '.png'},
                                  css: {'oak-item-small-selected': OakItemRunner.isActive($data.name()),
                                        'oak-item-small': !OakItemRunner.isActive($data.name()),
                                        'oak-item-locked': !OakItemRunner.isUnlocked($data.name())

                                        },
                                 event: {
                                    mouseover: function(){OakItemRunner.hover($data.name())},
                                    click: function(){OakItemRunner.click($data.name())},
                                    mouseout : function(){OakItemRunner.hoverRelease()}
                                    }">
                        </div>

                    </div>

                </div>

                <div class="card oak-item-info">
                    <div data-bind="if: OakItemRunner.inspectedItem().isUnlocked()">
                        <div class="row justify-content-sm-center">
                            <div style="height:20px;" class="col">
                                <b>
                                    <span data-bind="text: OakItemRunner.inspectedItem().name()"></span>
                                </b>
                            </div>
                        </div>
                        <div class="row justify-content-sm-center">
                            <div class="col">
                                <span data-bind="text: OakItemRunner.inspectedItem().description"></span>
                            </div>
                        </div>

                        <div class="row justify-content-sm-center">
                            <div class="col-sm-11 col-md-8">
                                <div class="progress" style="margin-top: 12px"
                                     data-bind="value: 'exp', tooltip: { title: OakItemRunner.inspectedItem().expProgress, trigger: 'hover' }">
                                    <div class="progress-bar bg-success" role="progressbar"
                                         data-bind="attr:{ style: 'width:' + OakItemRunner.inspectedItem().expPercentage() + '%' }"
                                         aria-valuemin="0" aria-valuemax="100">
                                        <div data-bind="if:OakItemRunner.inspectedItem().canUpgradeExp(),
                                                    disable: !OakItemRunner.inspectedItem().canUpgradeMoney()">
                                            <div class="btn-default"
                                                 data-bind="click: function(){OakItemRunner.inspectedItem().upgrade()}">
                                                Upgrade!
                                            </div>
                                        </div>
                                    </div>

                                </div>
                            </div>
                        </div>
                        <div class="row justify-content-sm-center no-gutters">

                            <div class="col">
                                Lvl.
                                <span data-bind="text: OakItemRunner.inspectedItem().level()"></span>
                            </div>

                            <div class="col">
                                Bonus:
                                <span data-bind="text: OakItemRunner.inspectedItem().calculateBonus()"></span>
                                %
                            </div>
                        </div>
                    </div>
                    <div data-bind="ifnot: OakItemRunner.inspectedItem().isUnlocked()">

                        <div class="row justify-content-sm-center">
                            <div style="height:20px;" class="col">
                                <b>
                                    <span data-bind="text: OakItemRunner.inspectedItem().name()"></span>
                                </b>
                            </div>
                        </div>

                        <div style="min-height:80px; vertical-align: center">
                            Capture<span data-bind="text: OakItemRunner.inspectedItem().unlockReq"></span>
                            Pokémon to
                            unlock!
                        </div>
                    </div>
                </div>

            </div>
            <div class="page-item" style="background-color: deepskyblue; min-height: 100px">
                <h2>Current quest counter</h2>
            </div>

            <!-- Egg Slots/Breeding-->
            <div data-bind="if: KeyItemHandler.getKeyItemObservableByName('Mystery egg')().isUnlocked()">
                <div class="page-item">
                    <div id='eggList' class="row no-gutters" data-bind="foreach: player.eggList">
                        <div class="col-sm-6 eggSlot" data-bind="visible: $index() < player.eggSlots()">
                            <div data-bind="if: $data !== null">
                                <img data-bind='attr: {src: BreedingHelper.getEggImage($data)}'/>
                                <div class="progress" data-bind='if: progress() < 100,
                                                                 tooltip: {title: ko.pureComputed(function(){return Math.floor(progress()) + "%"}), trigger: "hover"}'>
                                    <div class="progress-bar bg-success" role="progressbar"
                                         data-bind="attr:{ style: 'width:' + $data.progress() + '%' }"
                                         aria-valuemin="0" aria-valuemax="100">
                                    </div>
                                </div>
                                <div data-bind='if: progress() >= 100'>
                                    <button class='btn btn-primary'
                                            data-bind='click: function(){BreedingHelper.hatchPokemonEgg($index())}'>
                                        Hatch!
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>
</div>

<!-- Receive gym badge Modal -->
<div class="modal fade" id="receiveBadgeModal" tabindex="-1" role="dialog"
     aria-labelledby="receiveBadgeModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <div style="width: 100%;">
                    <img src=""
                         data-bind="attr:{ src: '/assets/images/gymLeaders/' + GymRunner.gymObservable().leaderName + '.png'}">
                    <h5 class="modal-title" id="receiveBadgeModalLabel"
                        data-bind="text: GymRunner.gymObservable().leaderName">Modal title</h5>

                </div>
            </div>
            <div class="modal-body">
                <p data-bind="text: GymRunner.gymObservable().defeatMessage"></p>
                <img src="" width="56px"
                     data-bind="attr:{ src: '/assets/images/badges/' + GymRunner.gymObservable().leaderName + '.png'}">

            </div>
            <div data-bind="if: !(GymRunner.gymObservable() instanceof Champion)">
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                </div>
            </div>
            <div data-bind="if: GymRunner.gymObservable() instanceof Champion">
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal"
                            onclick="$('#hallOfFameModal').modal('show')">
                        Next
                    </button>
                </div>
            </div>

        </div>
    </div>
</div>

<!-- Achievements Modal -->
<div class="modal  fade" id="achievementsModal" tabindex="-1" role="dialog"
     aria-labelledby="AchievementsModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                Achievements
            </div>
            <div class="modal-body">
                <table id="achievementList" class="table table-hover">
                    <tbody data-bind="template: { name: 'achievementListTemplate', foreach: AchievementHandler.achievementList}">
                    </tbody>
                </table>
            </div>

        </div>
    </div>
</div>

<script>
    var link = document.querySelector('link[id="startSequenceDoc"]');
    var content = link.import;

    // Grab DOM from warning.html's document.
    var el = content.querySelector('.modal');

    document.body.appendChild(el.cloneNode(true));
</script>

<!-- Pick Starter Modal-->
<div class="modal" id="pickStarterModal" tabindex="-1" role="dialog"
     aria-labelledby="pickStarterModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <div style="width: 100%;">
                    <img src="assets/images/oak.png">
                    <h5 class="modal-title" id="pickStarterModalLabel">Professor Oak</h5>
                </div>
            </div>
            <div class="modal-body">
                <p id="pickStarterModalText">Oh No! We got ambushed by these pokémon!<br>
                    I can only hold off two! Pick the one you want to fight!</p>
                <div class="row justify-content-center">
                    <div class="col-lg-8">
                        <div class="row">

                            <div class="col">
                                <input class="image-starter" type="image"
                                       src="assets/images/pokemon/1.png"
                                       onclick="StartSequenceRunner.pickStarter(GameConstants.Starter.Bulbasaur)">
                            </div>
                            <div class="col">
                                <input class="image-starter" type="image"
                                       src="assets/images/pokemon/4.png"
                                       onclick="StartSequenceRunner.pickStarter(GameConstants.Starter.Charmander)">
                            </div>
                            <div class="col">
                                <input class="image-starter" type="image"
                                       src="assets/images/pokemon/7.png"
                                       onclick="StartSequenceRunner.pickStarter(GameConstants.Starter.Squirtle)">
                            </div>
                        </div>
                    </div>
                </div>
                <p>You can click on it to inflict damage</p>
            </div>
        </div>
    </div>
</div>

<!-- Starter Caught Modal-->
<div class="modal" id="starterCaughtModal" tabindex="-1" role="dialog"
     aria-labelledby="starterCaughtModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <div style="width: 100%;">
                    <img src="assets/images/oak.png">
                    <h5 class="modal-title" id="starterCaughtModalLabel">Professor Oak</h5>
                </div>
            </div>
            <div class="modal-body">
                <p>
                    Hm! Excellent! You have caught your first pokémon!<br>
                    This is where your journey begins. <br>
                    You can progress to the next route after you have defeated 10 pokémon.<br>
                    To help you on you journey, I will give you these <b>Key items</b>!<br>
                    You can view all your <b>Key items</b> in the start menu.<br>
                </p>
                <div class="row justify-content-center">
                    <div class="col-sm-3">
                        <img
                                title="A television set that is tuned to a program with useful tips for novice TRAINERS"
                                class="key-item"
                                src="assets/images/keyitems/Teachy%20tv.png"/>
                        <br>
                        <p>Teachy tv</p>
                    </div>
                    <div class="col-sm-3">
                        <img
                                title="A case for holding money. It can hold up to 1,000,000 coins"
                                class="key-item"
                                src="assets/images/keyitems/Coin%20case.png"/>
                        <br>
                        <p>Coin case</p>
                    </div>
                    <div class="col-sm-3">
                        <img
                                title="A tiny bag that can hold up to 4 different types of PokéBalls"
                                class="key-item"
                                src="assets/images/keyitems/Pokeball%20bag.png"/>
                        <br>
                        <p>PokéBall bag</p>
                    </div>

                </div>

            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-dismiss="modal">Next</button>
            </div>
        </div>
    </div>
</div>

<!-- Hall of Fame Modal -->
<div class="modal fade" id="hallOfFameModal" tabindex="-1" role="dialog"
     aria-labelledby="hallOfFameModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <div style="width: 100%;">
                    <img src=""
                         data-bind="attr:{ src: '/assets/images/oak.png'}">
                    <h5 class="modal-title" id="hallOfFameModalLabel">Professor Oak</h5>

                </div>
            </div>
            <div class="modal-body">
                <p>
                    So, you won! Congratulations! You're the new Pokémon League champion! You've grown
                    up so
                    much since you first left with <span
                        data-bind="text: GameConstants.Starter[player.starter]">starter</span>! You have
                    worked
                    hard to become the new League Champion!
                </p>

            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>

<!-- Shards Modal -->
<div aria-labelledby="myModalLabel" class="modal fade" id="shardModal" role="dialog" tabindex="-1">
    <div class="modal-dialog" id="shardModalDialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">Shards</h4>
            </div>
            <div class="modal-body" id="shardBody" data-bind='foreach: player._shardUpgrades'>
                <h3>
                    <span data-bind="text: GameConstants.PokemonType[$index()] + ' ' + player._shardsCollected[$index()]()"></span>
                    <img data-bind='attr: { src: "assets/images/shards/" + $index() + ".png" }'/>
                </h3>
                <table class='table' data-bind='foreach: $data'>
                    <tr>
                        <td data-bind='text: GameConstants.TypeEffectiveness[$index()]'></td>
                        <td width='50%'>
                            <div class="progress"
                                 data-bind="style: { 'background-color': '#' + TypeHelper.typeColorsLocked[$parentContext.$index()] }">
                                <div class='progress-bar' role="progressbar"
                                     data-bind="style: { width: ($data * 10) + '%',
                                                               'background-color': '#' + TypeHelper.typeColors[$parentContext.$index()] }"
                                     aria-valuemin="0" aria-valuemax="100">
                                </div>
                                <div class='cell-container' data-bind='foreach: new Array(9)'>
                                    <div class='progress-cell' style='width: 10%'></div>
                                </div>
                            </div>
                        </td>
                        <td data-bind='text: (GameConstants.TypeEffectivenessValue[GameConstants.TypeEffectiveness[$index()]] + ($data * GameConstants.SHARD_UPGRADE_STEP)).toFixed(1) + "x"'></td>
                        <td>
                            <button class='btn btn-primary'
                                    data-bind='click: function(){player.buyShardUpgrade($parentContext.$index(), $index())},
                                        css: {disabled: !player.canBuyShardUpgrade($parentContext.$index(), $index())},
                                        text: "Buy (" + player.getShardUpgradeCost($parentContext.$index(), $index()) + ")"'>
                            </button>
                        </td>
                    </tr>
                </table>
            </div>
        </div>
    </div>
</div>
<!-- Breeding Modal-->
<div class="modal fade" id="breedingModal" tabindex="-1" role="dialog"
     aria-labelledby="breedingModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <div style="width: 100%;">
                    <img src="assets/images/oak.png">
                    <h5 class="modal-title" id="breedingModalLabel">Day Care Old Man</h5>
                </div>
            </div>
            <div class="modal-body">
                <p>
                    This is the Pokémon Day Care Center. You can trade your <br>
                    level 100 pokémon for an egg of the same pokémon.<br>
                    Hatched pokémon have a higher chance of becoming shiny!
                </p>
                <div data-bind="if: player.canBreedPokemon()">
                    <p>
                        Pick a pokémon below to breed them:
                    </p>

                    <div class="row col-lg-10 col-md-12 offset-lg-1 offset-md-0 col-sm-12 offset-sm-0"
                         style="padding-right: 0"
                         data-bind="foreach: player.maxLevelPokemonList()">
                        <div class="col-md-6 col-sm-10 col-lg-4 offset-sm-1 offset-md-0 offset-md-0 breedingListItem">
                            <button class="btn btn-secondary smallButton list-group-item-action"
                                    data-bind="click: function() {BreedingHelper.gainPokemonEgg($data)}">
                                <img class="smallImage"
                                     data-bind="attr:{ src: '/assets/images/pokemon/' + id +'.png' }"
                                     src=""/>
                                <span data-bind="text: name" style="margin-left: 20px">Name</span>
                            </button>
                        </div>
                    </div>
                </div>
                <div data-bind="ifnot: player.hasMaxLevelPokemon()">
                    <p>
                        Unfortunately, you don't have any pokémon of level 100
                    </p>
                </div>
                <div data-bind="ifnot: player.hasFreeEggSlot()">
                    <p>
                        Unfortunately, you don't have any free eggslots
                    </p>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>

<!-- Underground Modal -->
<div aria-labelledby="myModalLabel" class="modal fade noselect" id="mineModal" role="dialog"
     style="cursor:default" tabindex="-1">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <ul class="nav nav-tabs nav-fill">
                    <li class="nav-item"><a data-toggle='tab' class='nav-link active' href="#dig">Dig</a></li>
                    <li class='nav-item'><a data-toggle='tab' class='nav-link' href="#treasures">Treasures</a>
                    </li>
                    <li class='nav-item'><a data-toggle='tab' class='nav-link' href="#upgrades">Upgrades</a>
                    </li>
                    <li class='nav-item'><a data-toggle='tab' class='nav-link' href="#dailyDeals">Daily
                        deals</a></li>
                    <li class='nav-item'><a data-toggle='tab' class='nav-link' href="#help">Help</a></li>
                    <p><span id="diamondCounter" data-bind='text: player._diamonds'>x</span> <img
                            src='assets/images/underground/diamond.png'></p>
                </ul>
            </div>
            <div class="tab-content">
                <div id="dig" class="tab-pane fade in active show">
                    <div class="modal-body" style="width: 80%;margin: auto;">
                        <div class='row' style="text-align:center;">
                            <div class='progress'>
                                <div id='mineEnergyBar' class='progress-bar' role='progressbar'
                                     aria-valuemin='0' aria-valuemax='100'
                                     data-bind="style: { width: player._mineEnergy()/player._maxMineEnergy()*100 + '%' }">
                                </div>
                            </div>
                            <span id='energyDisplay' style='color:black;'>
                                <span data-bind='text: Math.floor(player.mineEnergy)'></span>/<span
                                    data-bind='text: player._maxMineEnergy'></span>
                                <img src='assets/images/underground/flash.png'>
                                (next: <span data-bind='text: Underground.energyTick'></span>s)
                            </span>
                        </div>
                        <div id="mineBody"></div>

                    </div>
                </div>
                <div id="treasures" class="tab-pane fade">
                    <div class="modal-body" id="treasuresBody" style="width: 80%;margin: auto;">
                        <div data-bind="if: player.hasMineItems()">
                            <table class='table'>
                                <tbody data-bind="template: { name: 'treasureListTemplate', foreach: player._mineInventory()}">

                                </tbody>
                            </table>
                        </div>
                        <div data-bind="ifnot:player.hasMineItems()">
                            You don't have any treasures yet...
                        </div>
                    </div>
                </div>
                <div id="upgrades" class="tab-pane fade">
                    <div class="modal-body" id="upgradesBody" style="width: 80%;margin: auto;">
                        <table class='table'>
                            <tbody data-bind='foreach: UndergroundUpgrade.list'>
                            <tr>
                                <td class='vertical-middle' data-bind='text: text + ": " + player[name]'></td>
                                <td class='vertical-middle'
                                    data-bind='text: "(" + (step > 0 ? "+" : "") + step + ")"'></td>
                                <td class='vertical-middle'
                                    data-bind='text: alreadyMax() ? "" : cost() + " diamonds"'></td>
                                <td class='vertical-middle'>
                                    <button class='btn btn-success'
                                            data-bind='css: { disabled: alreadyMax() || !canAfford() },
                                                           text: alreadyMax() ? "Max" : "Upgrade",
                                                           click: buy'>
                                    </button>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div id="help" class="tab-pane fade">
                    <div class="modal-body" id="helpBody" style="width: 80%;margin: auto;">
                        <h4>In the underground you can mine for hidden treasures.</h4>
                        <h4>Select the Hammer or the Chisel and click on the wall.</h4>
                        <h4>The Hammer is better for large areas, while the Chisel is better for small
                            areas.</h4>
                        <h4>Sell your treasures for shards or diamonds!</h4>
                        <h4>You can use your diamonds to buy all kinds of upgrades!</h4>
                        <h4>Every day you can trade your found items.</h4>
                        <h4>Check the Daily Deals tab!</h4>
                    </div>
                </div>
                <div id="dailyDeals" class="tab-pane fade">
                    <div class="modal-body" id="dailyDealsBody" style="width: 80%;margin: auto;">
                        <table class='table'>
                            <tbody data-bind='foreach: DailyDeal.list'>
                            <tr>
                                <td class='vertical-middle'>
                                    <img class='mineInventoryItem'
                                         data-bind='attr: {src: "assets/images/underground/"+item1.id+".png"}'>
                                    <span data-bind='text: "(" + player.getUndergroundItemAmount(item1.id) + ")"'></span>
                                </td>
                                <td class='vertical-middle' data-bind='text: item1.name'></td>
                                <td class='vertical-middle' data-bind='text: amount1'></td>
                                <td class='vertical-middle'><img src='assets/images/underground/rightArrow.png'>
                                </td>
                                <td class='vertical-middle' data-bind='text: item2.name'></td>
                                <td class='vertical-middle' data-bind='text: amount2'></td>
                                <td class='vertical-middle'>
                                    <img class='mineInventoryItem'
                                         data-bind='attr: {src: "assets/images/underground/"+item2.id+".png"}'>
                                </td>
                                <td class='vertical-middle'>
                                    <button class='btn btn-info'
                                            data-bind="click: function(){DailyDeal.use($index())}, css: { disabled: !DailyDeal.canUse($index()) }">
                                        Trade
                                    </button>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

</body>
</html>
